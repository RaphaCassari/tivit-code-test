(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0d59":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"q-pa-md flex flex-center"},[a("q-card",{staticClass:"q-pa-md",staticStyle:{"max-width":"600px"}},[a("q-card-section",{staticClass:"row items-center q-pb-md"},[a("q-avatar",{attrs:{size:"56px",color:"primary",icon:"person"}}),a("div",{staticClass:"q-ml-md"},[a("div",{staticClass:"text-h5"},[t._v(t._s(t.sanitize(t.jsonData.message)))])])],1),a("q-card-section",[a("q-list",{attrs:{bordered:""}},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"person"}})],1),a("q-item-section",[a("q-item-label",[a("strong",[t._v("Name:")]),t._v(" "+t._s(t.sanitize(t.jsonData.data.name)))]),a("q-item-label",{attrs:{caption:""}},[a("strong",[t._v("Email:")]),t._v(" "+t._s(t.sanitize(t.jsonData.data.email)))])],1)],1)],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-card-section",[a("div",{staticClass:"text-h6 q-mb-md"},[t._v("Purchases")]),a("q-list",{attrs:{bordered:""}},t._l(t.jsonData.data.purchases,(function(e){return a("q-item",{key:e.id,attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"shopping_cart"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.sanitize(e.item)))]),a("q-item-label",{attrs:{caption:""}},[t._v("Price: $"+t._s(t.sanitize(e.price)))])],1)],1)})),1)],1),a("q-card-section",[a("div",{staticClass:"text-h6 q-mb-md"},[t._v("Recommended Products")]),t._l(t.recommendations,(function(e,s){return a("q-chip",{key:s,staticClass:"q-mb-xs",attrs:{color:"primary","text-color":"white",icon:"star"}},[t._v("\n        "+t._s(t.sanitize(e))+"\n      ")])}))],2)],1)],1)},i=[],n=e("cee4"),r={data(){return{jsonData:{message:"",data:{name:"",email:"",purchases:[]}},recommendations:[],loading:!0,error:null}},methods:{sanitize(t){const a=document.createElement("div");return a.textContent=t,a.innerHTML},async fetchUserData(){try{const t=await n["a"].get("http://localhost:8001/sync-user?username=user&password=userpass");this.jsonData=t.data,await this.fetchRecommendations(this.jsonData.data.name),this.loading=!1}catch(t){this.error="Failed to load user data.",this.loading=!1}},async fetchRecommendations(t){try{const a=await n["a"].get(`http://localhost:8001/user-recommendations?name=${encodeURIComponent(t)}`);this.recommendations=a.data.recommendations}catch(a){this.error="Failed to load recommendations."}}},mounted(){this.fetchUserData()}},o=r,c=(e("2a07"),e("2877")),m=e("9989"),d=e("f09f"),l=e("a370"),p=e("cb32"),h=e("1c1c"),q=e("66e5"),u=e("4074"),b=e("0016"),f=e("0170"),v=e("eb85"),_=e("b047"),w=e("eebe"),C=e.n(w),g=Object(c["a"])(o,s,i,!1,null,"8928f888",null);a["default"]=g.exports;C()(g,"components",{QPage:m["a"],QCard:d["a"],QCardSection:l["a"],QAvatar:p["a"],QList:h["a"],QItem:q["a"],QItemSection:u["a"],QIcon:b["a"],QItemLabel:f["a"],QSeparator:v["a"],QChip:_["a"]})},"2a07":function(t,a,e){"use strict";e("b9ff")},b9ff:function(t,a,e){}}]);